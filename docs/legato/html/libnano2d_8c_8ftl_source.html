<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MPLAB® Harmony Graphics Suite: gfx/middleware/legato/driver/processor/2dgpu/templates/libnano2d.c.ftl Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script src="striped_bg.js"></script>
<link href="that_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mhgs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MPLAB® Harmony Graphics Suite
   &#160;<span id="projectnumber">GFX v3.9.1</span>
   </div>
   <div id="projectbrief">Legato API Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('libnano2d_8c_8ftl_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">libnano2d.c.ftl</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// DOM-IGNORE-BEGIN</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*******************************************************************************</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">* Copyright (C) 2020 Microchip Technology Inc. and its subsidiaries.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">* Subject to your compliance with these terms, you may use Microchip software</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">* and any derivatives exclusively with Microchip products. It is your</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">* responsibility to comply with third party license terms applicable to your</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">* use of third party software (including open source software) that may</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">* accompany Microchip software.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">* THIS SOFTWARE IS SUPPLIED BY MICROCHIP &quot;AS IS&quot;. NO WARRANTIES, WHETHER</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">* EXPRESS, IMPLIED OR STATUTORY, APPLY TO THIS SOFTWARE, INCLUDING ANY IMPLIED</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">* WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY, AND FITNESS FOR A</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">* PARTICULAR PURPOSE.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">* IN NO EVENT WILL MICROCHIP BE LIABLE FOR ANY INDIRECT, SPECIAL, PUNITIVE,</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">* INCIDENTAL OR CONSEQUENTIAL LOSS, DAMAGE, COST OR EXPENSE OF ANY KIND</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">* WHATSOEVER RELATED TO THE SOFTWARE, HOWEVER CAUSED, EVEN IF MICROCHIP HAS</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">* BEEN ADVISED OF THE POSSIBILITY OR THE DAMAGES ARE FORESEEABLE. TO THE</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">* FULLEST EXTENT ALLOWED BY LAW, MICROCHIP&#39;S TOTAL LIABILITY ON ALL CLAIMS IN</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">* ANY WAY RELATED TO THIS SOFTWARE WILL NOT EXCEED THE AMOUNT OF FEES, IF ANY,</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">* THAT YOU HAVE PAID DIRECTLY TO MICROCHIP FOR THIS SOFTWARE.</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">*******************************************************************************/</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/*******************************************************************************</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">  MPLAB Harmony Nano2D Generated HAL Wrapper</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">  File Name:</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">    libnano2D_hal.c</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">  Summary:</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">    Build-time generated implementation for the Nano2D Generated HAL Wrapper.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">  Description:</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">    Build-time generated implementation for the Nano2D Generated HAL Wrapper.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">    Created with MPLAB Harmony Version 2.03</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">*******************************************************************************/</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;gfx/driver/processor/2dgpu/libnano2d.h&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;xc.h&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;sys/attribs.h&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;sys/kmem.h&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#define CMD_BUFFER_SIZE  8192</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;uint32_t __attribute__((coherent, aligned(32))) commandBuffer[CMD_BUFFER_SIZE];</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// GPU command buffer seems to work better when placed in DDR</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#define CMD_BUFFER_DDR_ADDRESS 0xA9E00000</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<a class="code" href="structn2d__module__parameters.html">n2d_module_parameters_t</a> gpu_params;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">static</span> n2d_buffer_format_t n2dFormats[GFX_COLOR_MODE_LAST + 1] =</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    -1, <span class="comment">// GFX_COLOR_MODE_GS_8</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    -1, <span class="comment">// GFX_COLOR_MODE_RGB_332,</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    N2D_RGB565, <span class="comment">// GFX_COLOR_MODE_RGB_565</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    -1, <span class="comment">// GFX_COLOR_MODE_RGBA_5551</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    -1, <span class="comment">// GFX_COLOR_MODE_RGB_888</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    N2D_RGBA8888, <span class="comment">// GFX_COLOR_MODE_RGBA_8888</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    -1, <span class="comment">// GFX_COLOR_MODE_ARGB_8888</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    -1, <span class="comment">// GFX_COLOR_MODE_INDEX_1</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    -1, <span class="comment">// GFX_COLOR_MODE_INDEX_4</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    -1, <span class="comment">//GFX_COLOR_MODE_INDEX_8</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;};</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">static</span> <a class="code" href="gfx__driver_8h_8ftl.html#ae02cfd742b5afcb664b8afedcd983e31">gfxBlend</a> blendState = GFX_BLEND_NONE;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// Section: GFX Driver Nano2d Client Routines</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">/* Function:</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">    n2d_error_t n2d_blit()</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">   Summary:</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">    Copy a source buffer to the the destination buffer</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">   Description:</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">    The specified region of the source buffer is copied to the specified region</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">    of the destination buffer. If the regions are different in size, simple low-quality</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">    scaling will automatically be performed.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">    An optional blend mode can be specified that defines the blending of the</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">    source onto the destination.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">   Precondition:</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">   Parameters:</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">    destination           - Pointer to a n2d_buffer_t structure that describes the destination of the</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">                            blit</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">    destination_rectangle - Optional pointer to the rectangle that defines the region inside the</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">                            destination buffer. If this rectangle is not specified, the entire destination</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">                            buffer is used as the destination region</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">    source                - Pointer to a n2d_buffer_t structure that describes the source of the blit</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">    source_rectangle      - Optional pointer to the rectangle that defines the region inside the source buffer.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">                            If this rectangle is not specified, the entire source buffer is used as the source</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">                            region</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">    blend                 - Optional blending mode to be applied to each pixel. If no blending is required, set this</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">                            value to N2D_BLEND_NONE (0)</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">  Returns:</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">    Returns the status as defined by n2d_error_t</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">  Remarks:</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">    This function will wait until the hardware is complete, i.e. it is synchronous.</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;n2d_error_t n2d_blit(</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="structn2d__buffer.html">n2d_buffer_t</a> *destination,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="structn2d__rectangle.html">n2d_rectangle_t</a> *destination_rectangle,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="structn2d__buffer.html">n2d_buffer_t</a> *source,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="structn2d__rectangle.html">n2d_rectangle_t</a> *source_rectangle,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    n2d_blend_t blend);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/* Function:</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">    n2d_error_t n2d_blit_async()</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">   Summary:</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">    Copy a source buffer to the the destination buffer</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">   Description:</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">    The specified region of the source buffer is copied to the specified region</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">    of the destination buffer. If the regions are different in size, simple low-quality</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">    scaling will automatically be performed.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">    An optional blend mode can be specified that defines the blending of the</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">    source onto the destination.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">   Precondition:</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">   Parameters:</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">    destination           - Pointer to a n2d_buffer_t structure that describes the destination of the</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">                            blit</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">    destination_rectangle - Optional pointer to the rectangle that defines the region inside the</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">                            destination buffer. If this rectangle is not specified, the entire destination</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">                            buffer is used as the destination region</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">    source                - Pointer to a n2d_buffer_t structure that describes the source of the blit</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">    source_rectangle      - Optional pointer to the rectangle that defines the region inside the source buffer.</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">                            If this rectangle is not specified, the entire source buffer is used as the source</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">                            region</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">    blend                 - Optional blending mode to be applied to each pixel. If no blending is required, set this</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">                            value to N2D_BLEND_NONE (0)</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">  Returns:</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">    Returns GENERIC_IO as defined by n2d_error_t if the GPU does not immediately return acknowledgement status as defined by n2d_error_t</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">  Remarks:</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">    This function will not wait until the hardware is complete, i.e. it is asynchronous.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;n2d_error_t n2d_blit_async(</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="structn2d__buffer.html">n2d_buffer_t</a> *destination,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="structn2d__rectangle.html">n2d_rectangle_t</a> *destination_rectangle,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="structn2d__buffer.html">n2d_buffer_t</a> *source,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="structn2d__rectangle.html">n2d_rectangle_t</a> *source_rectangle,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    n2d_blend_t blend);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">/* Function:</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">    n2d_error_t n2d_dither()</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">   Summary:</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">    Enable or disable dithering</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">   Description:</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">    Sets the capability to scatter or approximate colors when using less than 32bpp or</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">        16bpp color depth. Dither attempts to improve the overall appearance of low resolution</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">        images. Dithering is on when enable is true, otherwise, dithering is off.</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">   Precondition:</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">   Parameters:</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">    enable                - defines whether dither is set on or off.</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">  Returns:</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">    Returns the status as defined by n2d_error_t</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">  Remarks:</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">    This function will wait until the hardware is complete, i.e. it is synchronous.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;n2d_error_t n2d_dither(</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    n2d_bool_t enable);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">/* Function:</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">    n2d_error_t n2d_draw_state()</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">   Summary:</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">    Set the drawing state for any following Nano2D API draw call</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">   Description:</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">    In order to setup transparency for the n2d_blit function, this function needs to</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">    be called. Note that this function is static, so set once, all draw commands that</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">    follow this function will take this transparency into effect. Call this function</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">    again with different parameters to set another transparency mode or turn transparency off.</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">    It will return N2D_INVALID_ARGUMENT if the source defines the transparency but the</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">    rop has nothing to do with the source buffer.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">    The default transparency mode for any newly opened context is N2D_TRANSPARENCY_NONE,</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">    using a foreground_rop of 0xC (copy source).</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">    Binary ROPs supported in both foreground and background operations:</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">        ROP     Formula     Description</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">        0x0     0   Set all destination bits to 0.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">        0x1     ~(D|S)  Inverse of merge source and destination.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">        0x2     D&amp;~S    Mask inverse of source and destination.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">        0x3     ~S  Copy inverse of source.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">        0x4     S&amp;~D    Mask source and inverse of destination.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">        0x5     ~D  Invert destination.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">        0x6     D^S     Exclusive or of source and destination.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">        0x7     ~(D&amp;S)  Inverse of mask source and destination.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">        0x8     D&amp;S     Mask source and destination.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">        0x9     ~(D^S)  Inverse of exclusive or of source and destination.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">        0xA     D   Copy destination.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">        0xB     D|~S    Merge inverse of source and destination.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">        0xC     S   Copy source.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">        0xD     S|~D    Merge source and inverse of destination.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">        0xE     D|S     Merge source and destination.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">        0xF     1   Set all destination bits to 1.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">   Precondition:</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">   Parameters:</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">    transparency   - The transparency mode applied to each pixel. See n2d_transparency_t for a list of</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">                     all supported transparency modes</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">    color          - If transparency is not N2D_TRANSPARENCY_NONE, this color value specifies if a</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">                     pixel is a foreground or a background pixel. If the color matches, it is a background pixel,</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">                     otherwise it is a foreground pixel</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">    foreground_rop - A Binary ROP (ROP2) code that gets executed by the hardware for each foreground pixel</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">    background_rop - A Binary ROP (ROP2) code that gets executed by the hardware for each background pixel</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">  Returns:</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">    Returns the status as defined by n2d_error_t</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">  Remarks:</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">    When using a source buffer with the A8 pixel format, transparency must be enabled to N2D_TRANSPARENCY_SOURCE and the alpha channel of color will be used to check for transparency. If the pixel is not transparent, the RGB channels of color value will be used as the color for the pixel.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;n2d_error_t n2d_draw_state(</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    n2d_transparency_t transparency,</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    n2d_color_t color,</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    n2d_uint8_t foreground_rop,</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    n2d_uint8_t background_rop);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">/* Function:</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">    n2d_error_t n2d_set_global_alpha()</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">   Summary:</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">    Set the global alpha value for source and destination surfaces.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">   Description:</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">    Sets the alpha blend mode and alpha value for subsequent source and</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">    destination buffers.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">   Precondition:</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">   Parameters:</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">    srcGlobalAlpha      - The mode applied to the source buffer. See:</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">                          n2d_global_alpha for a list of all supported</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">                          alpha modes</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">    dstGlobalAlpha      - The mode applied to the destination buffer. See:</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">                          n2d_global_alpha for a list of all supported</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">                          alpha modes</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">    srcGlobalAlphaValue - A value from 0 - 255 to set as the global alpha channel</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">                          of the source buffer.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">    dstGlobalAlphaValue - A value from 0 - 255 to set as the global alpha channel of</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">                          the destination buffer.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">  Returns:</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">    Returns the status as defined by n2d_error_t</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">  Remarks:</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">    This function will wait until the hardware is complete, i.e. it is synchronous</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;n2d_error_t n2d_set_global_alpha(</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keyword">enum</span> n2d_global_alpha    srcGlobalAlpha,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keyword">enum</span> n2d_global_alpha    dstGlobalAlpha,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    n2d_uint32_t             srcGlobalAlphaValue,</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    n2d_uint32_t             dstGlobalAlphaValue</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    );</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">/* Function:</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">    n2d_error_t n2d_load_palette()</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">   Summary:</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">    Load 256-entry color table for INDEX8 source surfaces.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">   Description:</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">    Loads color_table into the GPU peripheral at the given starting address</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">    first_index. The number of indices to load is given by index_count. A</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">    conversion is performed if convert_color is set to true, other no conversion</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">    is performed.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">   Precondition:</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">   Parameters:</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">        first_index  -  The index to start loading from (0..255).</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">    index_count  -  The number of indices to load (first_index + index_count &lt;= 256).</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">    color_table  -  Pointer to the color table to load. The value of the pointer</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">                    should be set to the first value to load no matter what the</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">                    value of FirstIndex is. The table must consist of 32-bit</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">                    entries that contain color values in either ARGB8 or the</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">                    destination color format (see color_convert).</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">    color_convert - If set to N2D_TRUE, the 32-bit values in the table are</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">                    assumed to be in ARGB8 format and will be converted by the</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">                    hardware to the destination format as needed. If set to</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">                    N2D_FALSE, the 32-bit values in the table are assumed to be</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">                    preconverted to the destination format.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">  Returns:</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">    Returns the status as defined by n2d_error_t</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">  Remarks:</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">    This function will wait until the hardware is complete, i.e. it is synchronous</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;n2d_error_t n2d_load_palette(</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        n2d_uint32_t first_index,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        n2d_uint32_t index_count,</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        n2d_pointer color_table,</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        n2d_bool_t color_convert);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">/* Function:</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">    n2d_error_t n2d_fill()</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">   Summary:</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">    Fill a (partial) buffer with a specified color</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">   Description:</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">    Draws and fills a rectangle with a specific color onto destination buffer.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">    An optional blend mode can be specified that defines the blending of the</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">    color onto the destination.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">   Precondition:</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">   Parameters:</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">    destination   - Pointer to a n2d_buffer_t structure that describes the buffer to be filled</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">    rectangle     - Pointer to a rectangle that specifies the area to be filled. If rectangle is NULL,</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">                    the entire buffer will be filled with the specified color</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">    color         - The color value to use for filling the buffer</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">    blend         - The blending mode to be applied to each pixel. If no blending is required, set this</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">                    value to N2D_BLEND_NONE (0)</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">  Returns:</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">    Returns the status as defined by n2d_error_t</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">  Remarks:</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">    This function will wait until the hardware is complete, i.e. it is synchronous</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;n2d_error_t n2d_fill(</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="structn2d__buffer.html">n2d_buffer_t</a> *destination,</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="structn2d__rectangle.html">n2d_rectangle_t</a> *rectangle,</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    n2d_color_t color,</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    n2d_blend_t blend);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">/* Function:</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">    n2d_error_t n2d_line()</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">   Summary:</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">    Draw a line</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">   Description:</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">    Draw a line with a specific color. The last pixel of the line will not be drawn.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">    An optional blend mode can be specified that defines the blending of the</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">    color onto the destination.</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">   Precondition:</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">   Parameters:</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">    destination  - Pointer to a n2d_buffer_t structure that describes the buffer to be</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">                    used to draw the line into.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">    start        - The starting point of the line, given in destination coordinates.</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">    end          - The ending point of the line, given in destination coordinates. The last</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">                   pixel will not be drawn.</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">    clip         - Optional pointer to a rectangle that specifies the clipping region of</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">                   the destination. If clip is NULL, the clipping region will be the entire</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">                   destination buffer.</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">    color        - The color value to use for drawing the line.</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">    blend        - The blending mode to be applied to each pixel on the line. If no</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">                   blending is required, set this value to N2D_BLEND_NONE (0).</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">  Returns:</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">    Returns the status as defined by n2d_error_t</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">  Remarks:</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">    This function will wait until the hardware is complete, i.e. it is synchronous</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;n2d_error_t n2d_line(</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="structn2d__buffer.html">n2d_buffer_t</a> *destination,</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="structn2d__point.html">n2d_point_t</a> start,</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="structn2d__point.html">n2d_point_t</a> end,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="structn2d__rectangle.html">n2d_rectangle_t</a> *clip,</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    n2d_color_t color,</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    n2d_blend_t blend);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">// *****************************************************************************</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">/* Function:</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">    n2d_error_t n2d_open()</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">   Summary:</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">    Open Nano2d context</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">   Description:</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">    The n2d_line, n2d_fill, n2d_blit, and n2d_draw_state functions require</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">    a Nano2D context to be opened. This function is the first interface that</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">    accesses the hardware. The hardware will be turned on and initialized.</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">   Precondition:</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">   Parameters:</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">   Returns:</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">    Returns the status as defined by n2d_error_t.</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">   Remarks:</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">    There is only one Nano2d context per application, so this function must</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">    be called once in your application.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;n2d_error_t n2d_open(</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;n2d_error_t n2d_init_hardware(</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="structn2d__module__parameters.html">n2d_module_parameters_t</a> *params</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    );</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<a class="code" href="gfx__driver_8h_8ftl.html#a2db8b494c615174612389b8140b5354b">gfxResult</a> DRV_2DGPU_Line(<a class="code" href="structgfxPixelBuffer.html">gfxPixelBuffer</a> * dest,</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                         <span class="keyword">const</span> <a class="code" href="structgfxPoint.html">gfxPoint</a>* p1,</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                           <span class="keyword">const</span> <a class="code" href="structgfxPoint.html">gfxPoint</a>* p2,</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                           <span class="keyword">const</span> <a class="code" href="structgfxRect.html">gfxRect</a>* clipRect,</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                           <span class="keyword">const</span> gfxColor color)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;{</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="structn2d__buffer.html">n2d_buffer_t</a> dest_buffer;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="structn2d__point.html">n2d_point_t</a> np1, np2;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="comment">// trivial cases that are better handled by the CPU</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">if</span>(p1-&gt;x == p2-&gt;x || p1-&gt;y == p2-&gt;y)</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">return</span> GFX_FAILURE;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a5a61e0d2806d2ec5b092ee156f957b4a">width</a> = dest-&gt;size.width;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#afbdb2705e9dd8163755d765b9e225a63">height</a> = dest-&gt;size.height;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a935cbecbc093426caa4fcd247773ae4b">stride</a> = dest-&gt;size.width * <a class="code" href="gfx__driver_8h_8ftl.html#ac6136e14ec5a016f5750c27c71f97b5c">gfxColorInfoTable</a>[dest-&gt;mode].size;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a1c307a27d17daa06c6bce5b278e08a94">format</a> = n2dFormats[dest-&gt;mode];</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a1459989fdb1f41c27093b783da831255">orientation</a> = dest-&gt;orientation;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a81011b79683fab64ce3aff71114f8fdd">handle</a> = NULL;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a9824c7cb7e4069084cbbd4458efd3faf">memory</a> = dest-&gt;pixels;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a91a61ad3cbb64d2b3e6c629f6ff92dcb">gpu</a> = KVA_TO_PA(dest-&gt;pixels);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    np1.<a class="code" href="structn2d__point.html#a7138259511e134ba5eec9a2f4d8acfeb">x</a> = p1-&gt;x;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    np1.<a class="code" href="structn2d__point.html#a6de88e8f3a37499163c2ddd6d87b96d9">y</a> = p1-&gt;y;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    np2.<a class="code" href="structn2d__point.html#a7138259511e134ba5eec9a2f4d8acfeb">x</a> = p2-&gt;x;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    np2.<a class="code" href="structn2d__point.html#a6de88e8f3a37499163c2ddd6d87b96d9">y</a> = p2-&gt;y;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="comment">// compensate for missing last pixel</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span>(np1.<a class="code" href="structn2d__point.html#a7138259511e134ba5eec9a2f4d8acfeb">x</a> == np2.<a class="code" href="structn2d__point.html#a7138259511e134ba5eec9a2f4d8acfeb">x</a>) <span class="comment">// vertical line</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">if</span>(np1.<a class="code" href="structn2d__point.html#a6de88e8f3a37499163c2ddd6d87b96d9">y</a> &lt; np2.<a class="code" href="structn2d__point.html#a6de88e8f3a37499163c2ddd6d87b96d9">y</a>)</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            np2.<a class="code" href="structn2d__point.html#a6de88e8f3a37499163c2ddd6d87b96d9">y</a>++;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            np1.<a class="code" href="structn2d__point.html#a6de88e8f3a37499163c2ddd6d87b96d9">y</a>--;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">if</span>(np1.<a class="code" href="structn2d__point.html#a6de88e8f3a37499163c2ddd6d87b96d9">y</a> == np2.<a class="code" href="structn2d__point.html#a6de88e8f3a37499163c2ddd6d87b96d9">y</a>) <span class="comment">// horizontal line</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">if</span>(np1.<a class="code" href="structn2d__point.html#a7138259511e134ba5eec9a2f4d8acfeb">x</a> &lt; np2.<a class="code" href="structn2d__point.html#a7138259511e134ba5eec9a2f4d8acfeb">x</a>)</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            np2.<a class="code" href="structn2d__point.html#a7138259511e134ba5eec9a2f4d8acfeb">x</a>++;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            np1.<a class="code" href="structn2d__point.html#a7138259511e134ba5eec9a2f4d8acfeb">x</a>--;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    n2d_line(&amp;dest_buffer,</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;             np1,</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;             np2,</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;             (<a class="code" href="structn2d__rectangle.html">n2d_rectangle_t</a>*)clipRect,</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;             gfxColorConvert(dest-&gt;mode, GFX_COLOR_MODE_ARGB_8888, color),</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;             blendState);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">return</span> GFX_SUCCESS;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<a class="code" href="gfx__driver_8h_8ftl.html#a2db8b494c615174612389b8140b5354b">gfxResult</a> DRV_2DGPU_Fill(<a class="code" href="structgfxPixelBuffer.html">gfxPixelBuffer</a> * dest,</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                           <span class="keyword">const</span> <a class="code" href="structgfxRect.html">gfxRect</a>* clipRect,</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                           <span class="keyword">const</span> gfxColor color)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;{</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="structn2d__buffer.html">n2d_buffer_t</a> dest_buffer;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a5a61e0d2806d2ec5b092ee156f957b4a">width</a> = dest-&gt;size.width;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#afbdb2705e9dd8163755d765b9e225a63">height</a> = dest-&gt;size.height;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a935cbecbc093426caa4fcd247773ae4b">stride</a> = dest-&gt;size.width * <a class="code" href="gfx__driver_8h_8ftl.html#ac6136e14ec5a016f5750c27c71f97b5c">gfxColorInfoTable</a>[dest-&gt;mode].size;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a1c307a27d17daa06c6bce5b278e08a94">format</a> = n2dFormats[dest-&gt;mode];</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a1459989fdb1f41c27093b783da831255">orientation</a> = dest-&gt;orientation;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a81011b79683fab64ce3aff71114f8fdd">handle</a> = NULL;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a9824c7cb7e4069084cbbd4458efd3faf">memory</a> = dest-&gt;pixels;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a91a61ad3cbb64d2b3e6c629f6ff92dcb">gpu</a> = KVA_TO_PA(dest-&gt;pixels);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    n2d_fill(&amp;dest_buffer,</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;             (<a class="code" href="structn2d__rectangle.html">n2d_rectangle_t</a>*)clipRect,</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;             gfxColorConvert(dest-&gt;mode, GFX_COLOR_MODE_ARGB_8888, color),</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;             blendState);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">return</span> GFX_SUCCESS;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<a class="code" href="gfx__driver_8h_8ftl.html#a2db8b494c615174612389b8140b5354b">gfxResult</a> DRV_2DGPU_Blit(<span class="keyword">const</span> <a class="code" href="structgfxPixelBuffer.html">gfxPixelBuffer</a>* source,</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                           <span class="keyword">const</span> <a class="code" href="structgfxRect.html">gfxRect</a>* srcRect,</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                           <span class="keyword">const</span> <a class="code" href="structgfxPixelBuffer.html">gfxPixelBuffer</a>* dest,</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                         <span class="keyword">const</span> <a class="code" href="structgfxRect.html">gfxRect</a>* destRect)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;{</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    n2d_error_t err;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="structn2d__buffer.html">n2d_buffer_t</a> src_buffer, dest_buffer;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="comment">// craft source buffer descriptor</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    src_buffer.<a class="code" href="structn2d__buffer.html#a5a61e0d2806d2ec5b092ee156f957b4a">width</a> = source-&gt;size.width;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    src_buffer.<a class="code" href="structn2d__buffer.html#afbdb2705e9dd8163755d765b9e225a63">height</a> = source-&gt;size.height;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    src_buffer.<a class="code" href="structn2d__buffer.html#a935cbecbc093426caa4fcd247773ae4b">stride</a> = source-&gt;size.width * <a class="code" href="gfx__driver_8h_8ftl.html#ac6136e14ec5a016f5750c27c71f97b5c">gfxColorInfoTable</a>[source-&gt;mode].size;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    src_buffer.<a class="code" href="structn2d__buffer.html#a1c307a27d17daa06c6bce5b278e08a94">format</a> = n2dFormats[source-&gt;mode];</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    src_buffer.<a class="code" href="structn2d__buffer.html#a1459989fdb1f41c27093b783da831255">orientation</a> = source-&gt;orientation;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    src_buffer.<a class="code" href="structn2d__buffer.html#a81011b79683fab64ce3aff71114f8fdd">handle</a> = NULL;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    src_buffer.<a class="code" href="structn2d__buffer.html#a9824c7cb7e4069084cbbd4458efd3faf">memory</a> = source-&gt;pixels;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    src_buffer.<a class="code" href="structn2d__buffer.html#a91a61ad3cbb64d2b3e6c629f6ff92dcb">gpu</a> = KVA_TO_PA(source-&gt;pixels);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">if</span>(IS_KVA1(source-&gt;pixels) == GFX_FALSE ||    <span class="comment">//not coherent</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;       (source-&gt;size.width) % 4 &gt; 0 ||            <span class="comment">//not width aligned</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;       (((uint32_t) src_buffer.<a class="code" href="structn2d__buffer.html#a9824c7cb7e4069084cbbd4458efd3faf">memory</a>) &amp; 0x3))    <span class="comment">//not 32-bit address aligned</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="keywordflow">return</span> GFX_FAILURE;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="comment">// craft dest buffer descriptor</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a5a61e0d2806d2ec5b092ee156f957b4a">width</a> = dest-&gt;size.width;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#afbdb2705e9dd8163755d765b9e225a63">height</a> = dest-&gt;size.height;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a935cbecbc093426caa4fcd247773ae4b">stride</a> = dest-&gt;size.width * <a class="code" href="gfx__driver_8h_8ftl.html#ac6136e14ec5a016f5750c27c71f97b5c">gfxColorInfoTable</a>[dest-&gt;mode].size;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a1c307a27d17daa06c6bce5b278e08a94">format</a> = n2dFormats[dest-&gt;mode];</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a1459989fdb1f41c27093b783da831255">orientation</a> = dest-&gt;orientation;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a81011b79683fab64ce3aff71114f8fdd">handle</a> = NULL;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a9824c7cb7e4069084cbbd4458efd3faf">memory</a> = dest-&gt;pixels;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    dest_buffer.<a class="code" href="structn2d__buffer.html#a91a61ad3cbb64d2b3e6c629f6ff92dcb">gpu</a> = KVA_TO_PA(dest-&gt;pixels);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    &lt;#<span class="keywordflow">if</span> DRV_NANO2D_MODE == <span class="stringliteral">&quot;Synchronous&quot;</span>&gt;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    err = n2d_blit(&amp;dest_buffer,</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                  (<a class="code" href="structn2d__rectangle.html">n2d_rectangle_t</a>*)destRect,</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                  &amp;src_buffer,</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                  (<a class="code" href="structn2d__rectangle.html">n2d_rectangle_t</a>*)srcRect,</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                  blendState);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    &lt;#<span class="keywordflow">else</span>&gt;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    err = n2d_blit_async(&amp;dest_buffer,</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                  (<a class="code" href="structn2d__rectangle.html">n2d_rectangle_t</a>*)destRect,</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                  &amp;src_buffer,</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                  (<a class="code" href="structn2d__rectangle.html">n2d_rectangle_t</a>*)srcRect,</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                  blendState);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    &lt;/#<span class="keywordflow">if</span>&gt;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">return</span> ((err == N2D_SUCCESS) ? GFX_SUCCESS : GFX_FAILURE);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<a class="code" href="gfx__driver_8h_8ftl.html#a2db8b494c615174612389b8140b5354b">gfxResult</a> DRV_2DGPU_SetBlend(</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                <span class="keyword">const</span> <a class="code" href="gfx__driver_8h_8ftl.html#ae02cfd742b5afcb664b8afedcd983e31">gfxBlend</a> blend)</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;{</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    blendState = blend;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">return</span> GFX_SUCCESS;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;}</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<a class="code" href="gfx__driver_8h_8ftl.html#a2db8b494c615174612389b8140b5354b">gfxResult</a> DRV_2DGPU_SetGlobalAlpha(</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                        <span class="keyword">const</span> <a class="code" href="gfx__driver_8h_8ftl.html#a7cd4495c751ac73f23261f1db2c3e263">gfxAlpha</a> srcGlobalAlpha,</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                        <span class="keyword">const</span> <a class="code" href="gfx__driver_8h_8ftl.html#a7cd4495c751ac73f23261f1db2c3e263">gfxAlpha</a> dstGlobalAlpha,</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                        uint32_t srcGlobalAlphaValue,</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                        uint32_t dstGlobalAlphaValue)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;{</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> (N2D_IS_ERROR( n2d_set_global_alpha(srcGlobalAlpha, dstGlobalAlpha,</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                              srcGlobalAlphaValue, dstGlobalAlphaValue) ) )</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">return</span> GFX_FAILURE;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">return</span> GFX_SUCCESS;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<a class="code" href="gfx__driver_8h_8ftl.html#a2db8b494c615174612389b8140b5354b">gfxResult</a> DRV_2DGPU_SetPalette(</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                        uint32_t index_count,</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                        <a class="code" href="gfx__driver_8h_8ftl.html#a413ad5defcccf6161af33478645701a1">gfxBuffer</a> color_table,</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                        <a class="code" href="gfx__driver_8h_8ftl.html#ac6f06ed152c2b4fd640a90c471413e61">gfxBool</a> color_convert)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;{</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">if</span> (N2D_IS_ERROR( n2d_load_palette(0, index_count,</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                                       color_table, color_convert) ) )</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;         <span class="keywordflow">return</span> GFX_FAILURE;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">return</span> GFX_SUCCESS;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<a class="code" href="gfx__driver_8h_8ftl.html#a2db8b494c615174612389b8140b5354b">gfxResult</a> DRV_2DGPU_SetTransparency(</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                        <a class="code" href="gfx__driver_8h_8ftl.html#a243554b342ac5ede1bd826b842337a11">gfxTransparency</a> transparency,</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                        gfxColor color,</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                        uint32_t foreground_rop,</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                        uint32_t background_rop)</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;{</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span> (N2D_IS_ERROR(n2d_draw_state(transparency, color,</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                                    foreground_rop, background_rop) ) )</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;         <span class="keywordflow">return</span> GFX_FAILURE;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">return</span> GFX_SUCCESS;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;}</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">// function that initialized the driver context</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="keywordtype">void</span> DRV_2DGPU_Initialize(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;{</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="comment">/* initialize gpu hardware and peripheral software */</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    memset((<span class="keywordtype">void</span>*)commandBuffer, 0, CMD_BUFFER_SIZE);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    gpu_params.<a class="code" href="structn2d__module__parameters.html#afccfca9a91d864e90472d974ad07a2c1">contiguousBase</a> = (n2d_uint32_t)commandBuffer;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    gpu_params.<a class="code" href="structn2d__module__parameters.html#a68901061c20f4c3522ca8857f699cdd9">registerMemBase2D</a> = 0xBF8EB000;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    gpu_params.<a class="code" href="structn2d__module__parameters.html#ae92b89aa1d823af8cca71ad199a62be2">baseAddress</a> = 0;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    n2d_init_hardware(&amp;gpu_params);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">/* open and initialize gpu software  */</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">if</span> (N2D_IS_ERROR(n2d_open()))</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        return ;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astructn2d__buffer_html_a9824c7cb7e4069084cbbd4458efd3faf"><div class="ttname"><a href="structn2d__buffer.html#a9824c7cb7e4069084cbbd4458efd3faf">n2d_buffer::memory</a></div><div class="ttdeci">void * memory</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00308">libnano2d.h.ftl:308</a></div></div>
<div class="ttc" id="astructn2d__module__parameters_html_ae92b89aa1d823af8cca71ad199a62be2"><div class="ttname"><a href="structn2d__module__parameters.html#ae92b89aa1d823af8cca71ad199a62be2">n2d_module_parameters::baseAddress</a></div><div class="ttdeci">n2d_uint32_t baseAddress</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00222">libnano2d.h.ftl:222</a></div></div>
<div class="ttc" id="astructn2d__module__parameters_html"><div class="ttname"><a href="structn2d__module__parameters.html">n2d_module_parameters</a></div><div class="ttdoc">This struct represents gpu parameters.</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00215">libnano2d.h.ftl:216</a></div></div>
<div class="ttc" id="astructn2d__module__parameters_html_afccfca9a91d864e90472d974ad07a2c1"><div class="ttname"><a href="structn2d__module__parameters.html#afccfca9a91d864e90472d974ad07a2c1">n2d_module_parameters::contiguousBase</a></div><div class="ttdeci">n2d_uint32_t contiguousBase</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00221">libnano2d.h.ftl:221</a></div></div>
<div class="ttc" id="astructn2d__module__parameters_html_a68901061c20f4c3522ca8857f699cdd9"><div class="ttname"><a href="structn2d__module__parameters.html#a68901061c20f4c3522ca8857f699cdd9">n2d_module_parameters::registerMemBase2D</a></div><div class="ttdeci">n2d_uint32_t registerMemBase2D</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00218">libnano2d.h.ftl:218</a></div></div>
<div class="ttc" id="agfx__driver_8h_8ftl_html_a7cd4495c751ac73f23261f1db2c3e263"><div class="ttname"><a href="gfx__driver_8h_8ftl.html#a7cd4495c751ac73f23261f1db2c3e263">gfxAlpha</a></div><div class="ttdeci">gfxAlpha</div><div class="ttdoc">This enum represents alpha modes.</div><div class="ttdef"><b>Definition:</b> <a href="gfx__driver_8h_8ftl_source.html#l00457">gfx_driver.h.ftl:458</a></div></div>
<div class="ttc" id="agfx__driver_8h_8ftl_html_ac6136e14ec5a016f5750c27c71f97b5c"><div class="ttname"><a href="gfx__driver_8h_8ftl.html#ac6136e14ec5a016f5750c27c71f97b5c">gfxColorInfoTable</a></div><div class="ttdeci">const gfxColorModeInfo gfxColorInfoTable[]</div><div class="ttdoc">This array represents a color information reference table.</div><div class="ttdef"><b>Definition:</b> <a href="gfx__driver_8c_8ftl_source.html#l00572">gfx_driver.c.ftl:572</a></div></div>
<div class="ttc" id="astructn2d__buffer_html_a1c307a27d17daa06c6bce5b278e08a94"><div class="ttname"><a href="structn2d__buffer.html#a1c307a27d17daa06c6bce5b278e08a94">n2d_buffer::format</a></div><div class="ttdeci">n2d_buffer_format_t format</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00305">libnano2d.h.ftl:305</a></div></div>
<div class="ttc" id="astructn2d__point_html_a7138259511e134ba5eec9a2f4d8acfeb"><div class="ttname"><a href="structn2d__point.html#a7138259511e134ba5eec9a2f4d8acfeb">n2d_point::x</a></div><div class="ttdeci">n2d_int32_t x</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00339">libnano2d.h.ftl:339</a></div></div>
<div class="ttc" id="astructn2d__rectangle_html"><div class="ttname"><a href="structn2d__rectangle.html">n2d_rectangle</a></div><div class="ttdoc">This struct represents a gpu rectangle.</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00348">libnano2d.h.ftl:349</a></div></div>
<div class="ttc" id="agfx__driver_8h_8ftl_html_ae02cfd742b5afcb664b8afedcd983e31"><div class="ttname"><a href="gfx__driver_8h_8ftl.html#ae02cfd742b5afcb664b8afedcd983e31">gfxBlend</a></div><div class="ttdeci">gfxBlend</div><div class="ttdoc">This enum represents blend modes.</div><div class="ttdef"><b>Definition:</b> <a href="gfx__driver_8h_8ftl_source.html#l00441">gfx_driver.h.ftl:442</a></div></div>
<div class="ttc" id="astructn2d__buffer_html_a1459989fdb1f41c27093b783da831255"><div class="ttname"><a href="structn2d__buffer.html#a1459989fdb1f41c27093b783da831255">n2d_buffer::orientation</a></div><div class="ttdeci">n2d_orientation_t orientation</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00306">libnano2d.h.ftl:306</a></div></div>
<div class="ttc" id="astructgfxRect_html"><div class="ttname"><a href="structgfxRect.html">gfxRect</a></div><div class="ttdoc">This struct represents a rectangle.</div><div class="ttdef"><b>Definition:</b> <a href="gfx__driver_8h_8ftl_source.html#l00229">gfx_driver.h.ftl:230</a></div></div>
<div class="ttc" id="astructn2d__point_html_a6de88e8f3a37499163c2ddd6d87b96d9"><div class="ttname"><a href="structn2d__point.html#a6de88e8f3a37499163c2ddd6d87b96d9">n2d_point::y</a></div><div class="ttdeci">n2d_int32_t y</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00340">libnano2d.h.ftl:340</a></div></div>
<div class="ttc" id="astructn2d__buffer_html_afbdb2705e9dd8163755d765b9e225a63"><div class="ttname"><a href="structn2d__buffer.html#afbdb2705e9dd8163755d765b9e225a63">n2d_buffer::height</a></div><div class="ttdeci">n2d_int32_t height</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00303">libnano2d.h.ftl:303</a></div></div>
<div class="ttc" id="astructgfxPoint_html"><div class="ttname"><a href="structgfxPoint.html">gfxPoint</a></div><div class="ttdoc">This struct represents a point.</div><div class="ttdef"><b>Definition:</b> <a href="gfx__driver_8h_8ftl_source.html#l00181">gfx_driver.h.ftl:182</a></div></div>
<div class="ttc" id="astructn2d__point_html"><div class="ttname"><a href="structn2d__point.html">n2d_point</a></div><div class="ttdoc">This struct represents a gpu point.</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00337">libnano2d.h.ftl:338</a></div></div>
<div class="ttc" id="astructn2d__buffer_html_a5a61e0d2806d2ec5b092ee156f957b4a"><div class="ttname"><a href="structn2d__buffer.html#a5a61e0d2806d2ec5b092ee156f957b4a">n2d_buffer::width</a></div><div class="ttdeci">n2d_int32_t width</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00302">libnano2d.h.ftl:302</a></div></div>
<div class="ttc" id="astructn2d__buffer_html_a81011b79683fab64ce3aff71114f8fdd"><div class="ttname"><a href="structn2d__buffer.html#a81011b79683fab64ce3aff71114f8fdd">n2d_buffer::handle</a></div><div class="ttdeci">void * handle</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00307">libnano2d.h.ftl:307</a></div></div>
<div class="ttc" id="agfx__driver_8h_8ftl_html_a2db8b494c615174612389b8140b5354b"><div class="ttname"><a href="gfx__driver_8h_8ftl.html#a2db8b494c615174612389b8140b5354b">gfxResult</a></div><div class="ttdeci">gfxResult</div><div class="ttdoc">This enum represents function call results.</div><div class="ttdef"><b>Definition:</b> <a href="gfx__driver_8h_8ftl_source.html#l00141">gfx_driver.h.ftl:142</a></div></div>
<div class="ttc" id="astructn2d__buffer_html_a91a61ad3cbb64d2b3e6c629f6ff92dcb"><div class="ttname"><a href="structn2d__buffer.html#a91a61ad3cbb64d2b3e6c629f6ff92dcb">n2d_buffer::gpu</a></div><div class="ttdeci">n2d_uint32_t gpu</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00309">libnano2d.h.ftl:309</a></div></div>
<div class="ttc" id="agfx__driver_8h_8ftl_html_a243554b342ac5ede1bd826b842337a11"><div class="ttname"><a href="gfx__driver_8h_8ftl.html#a243554b342ac5ede1bd826b842337a11">gfxTransparency</a></div><div class="ttdeci">gfxTransparency</div><div class="ttdoc">This enum represents transparency modes.</div><div class="ttdef"><b>Definition:</b> <a href="gfx__driver_8h_8ftl_source.html#l00469">gfx_driver.h.ftl:470</a></div></div>
<div class="ttc" id="astructgfxPixelBuffer_html"><div class="ttname"><a href="structgfxPixelBuffer.html">gfxPixelBuffer</a></div><div class="ttdoc">This struct represents a pixel buffer.</div><div class="ttdef"><b>Definition:</b> <a href="gfx__driver_8h_8ftl_source.html#l00520">gfx_driver.h.ftl:521</a></div></div>
<div class="ttc" id="astructn2d__buffer_html"><div class="ttname"><a href="structn2d__buffer.html">n2d_buffer</a></div><div class="ttdoc">This struct represents any image or render target.</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00300">libnano2d.h.ftl:301</a></div></div>
<div class="ttc" id="agfx__driver_8h_8ftl_html_ac6f06ed152c2b4fd640a90c471413e61"><div class="ttname"><a href="gfx__driver_8h_8ftl.html#ac6f06ed152c2b4fd640a90c471413e61">gfxBool</a></div><div class="ttdeci">gfxBool</div><div class="ttdoc">This enum represents booleans.</div><div class="ttdef"><b>Definition:</b> <a href="gfx__driver_8h_8ftl_source.html#l00164">gfx_driver.h.ftl:165</a></div></div>
<div class="ttc" id="agfx__driver_8h_8ftl_html_a413ad5defcccf6161af33478645701a1"><div class="ttname"><a href="gfx__driver_8h_8ftl.html#a413ad5defcccf6161af33478645701a1">gfxBuffer</a></div><div class="ttdeci">void * gfxBuffer</div><div class="ttdoc">This type represents a buffer;.</div><div class="ttdef"><b>Definition:</b> <a href="gfx__driver_8h_8ftl_source.html#l00265">gfx_driver.h.ftl:265</a></div></div>
<div class="ttc" id="astructn2d__buffer_html_a935cbecbc093426caa4fcd247773ae4b"><div class="ttname"><a href="structn2d__buffer.html#a935cbecbc093426caa4fcd247773ae4b">n2d_buffer::stride</a></div><div class="ttdeci">n2d_int32_t stride</div><div class="ttdef"><b>Definition:</b> <a href="libnano2d_8h_8ftl_source.html#l00304">libnano2d.h.ftl:304</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_3a924b96366437974edfa9bf6ddad245.html">gfx</a></li><li class="navelem"><a class="el" href="dir_4a20292a2b12992f00d53f7edbd72d5d.html">middleware</a></li><li class="navelem"><a class="el" href="dir_b190f1068f9fbe431bd6ea3e2624de65.html">legato</a></li><li class="navelem"><a class="el" href="dir_dc69da7afc904c98ae9c02297ceecff5.html">driver</a></li><li class="navelem"><a class="el" href="dir_008ef5a82862db34c46e4bd05fc5956f.html">processor</a></li><li class="navelem"><a class="el" href="dir_31908ab942d7916fb16571182f9ae601.html">2dgpu</a></li><li class="navelem"><a class="el" href="dir_17fc914ed53deb2c34bb593458297022.html">templates</a></li><li class="navelem"><b>libnano2d.c.ftl</b></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
